@use "../../styles/title.scss";
@use "../../styles/wrappers.scss";

// 헤더 레이아웃
.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 2rem;
}

.buttonRail {
  display: flex;
  gap: 0.5rem;
}

// 🟢 [신규] 전체 레이아웃 컨테이너
.contentContainer {
  display: flex;
  gap: 2rem;
  align-items: flex-start;

  @media (max-width: 850px) {
    flex-direction: column;
    gap: 1rem;
  }
}

// 🟢 [신규] 사이드바 스타일
.sidebar {
  min-width: 180px;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  position: sticky;
  top: 1rem;

  @media (max-width: 850px) {
    width: 100%;
    flex-direction: row;
    overflow-x: auto;
    padding-bottom: 0.5rem;
    position: static;
    align-items: center;
  }
}

.sidebarHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 0.5rem 0.5rem;
  color: rgba(255, 255, 255, 0.4);
  font-size: 0.85rem;
  font-weight: 600;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  margin-bottom: 0.5rem;

  @media (max-width: 850px) {
    display: none; // 모바일에선 헤더 숨김 (공간 절약)
  }
}

.miniAddButton {
  background: transparent;
  border: none;
  color: rgba(255, 255, 255, 0.5);
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  transition: all 0.2s;

  &:hover {
    background: rgba(255, 255, 255, 0.1);
    opacity: 0.5;
    color: #00bfff;
  }
}

// 사이드바 아이템
.sidebarItem {
  display: flex;
  align-items: center;
  justify-content: space-between;

  text-align: left;
  padding: 0.6rem 1rem;
  border-radius: 8px;
  background: transparent;
  color: #ffffff;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  white-space: nowrap;

  &:hover {
    background: rgba(0, 191, 255, 0.12);
    color: #ffffff;
  }

  &.active {
    background: rgba(0, 191, 255, 0.2);
    color: #ffffff;

    @media (max-width: 850px) {
      border-left: none;
      border-bottom: 2px solid #00bfff;
    }
  }
}

.sidebarName {
  flex-grow: 1;
  overflow: hidden;
  text-overflow: ellipsis;
}

// 🟢 [신규] 사이드바 내 삭제 버튼
.sidebarDeleteBtn {
  display: flex;
  align-items: center;
  justify-content: center;
  background: transparent;
  border: none;
  color: inherit; // 부모 색상 따름 (호버시 파랑, 기본 회색)
  opacity: 0.5;
  padding: 4px;
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s;
  margin-left: 8px;

  &:hover {
    background: rgba(192, 37, 37, 0.15); // 은은한 붉은 배경
    color: #ff6666 !important; // 붉은색 강제 적용
    opacity: 1;
  }
}

.emptySidebar {
  text-align: center;
  font-size: 0.8rem;
  color: #666;
  padding: 1rem 0;
}

// 🟢 [수정] 테이블 컨테이너 (flex-grow 적용)
.portfolioContainer {
  flex: 1; // 남은 공간 채우기
  width: 100%;
}

// 테이블 스타일 (기존 유지)
.portfolioTable {
  width: 100%;
  border-collapse: collapse;
  background-color: transparent;

  th,
  td {
    padding: 1rem;
    text-align: left;
    // 🟢 [수정] 구분선을 흐릿하게 변경 (2번째 사진처럼)
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  th {
    font-weight: 600;
    color: #eee;
    font-size: 0.9rem;
  }

  td {
    color: #ddd; // 텍스트 색상을 조금 더 밝게 (가독성 확보)
    font-size: 0.95rem;
  }

  // 테이블 행(tr) 자체의 테두리는 제거하거나 th, td와 맞춤
  tr {
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  tbody tr:hover {
    background-color: rgba(255, 255, 255, 0.04);
  }
}
// 버튼들 (기존 유지)
.createButton {
  display: flex;
  align-items: center;
  justify-content: center; // 텍스트 중앙 정렬 추가

  // 기본 상태: 어두운 투명 배경
  background: rgba(255, 255, 255, 0.06);
  color: rgba(255, 255, 255, 0.6);
  border: 1px solid transparent; // 테두리 공간 확보

  padding: 0.5rem 1rem;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;

  // 🟢 [수정] 호버 시 색상 변화 제거 -> 살짝 밝게만 처리
  &:hover {
    background-color: rgba(255, 255, 255, 0.12); // 배경만 조금 더 밝게
    color: rgba(255, 255, 255, 0.9); // 글자도 밝게
    transform: translateY(-1px); // 살짝 떠오르는 느낌
  }

  // 🟢 [수정] 클릭 시 반응
  &:active {
    transform: translateY(1px); // 눌리는 느낌
    background-color: rgba(255, 255, 255, 0.08);
  }

  &:disabled {
    opacity: 0.3;
    cursor: not-allowed;
    transform: none;
  }
}

// 삭제 버튼 (빨강 테마 제거 -> 기본 버튼과 동일하게 하되 텍스트만 살짝 붉은기 유지 추천, 혹은 아예 회색으로)
.delete {
  // 기본 상태에서만 살짝 붉은 텍스트 유지 (식별용)
  color: #c02525;
  background: rgba(192, 37, 37, 0.05);

  // 🟢 [수정] 호버 시 빨간 배경 제거
  &:hover {
    background: rgba(192, 37, 37, 0.12); // 배경만 살짝 진해짐 (빨강 X)
    color: #d14d4d; // 텍스트만 조금 더 밝게
    border-color: rgba(192, 37, 37, 0.2);
  }

  &:active {
    background: rgba(192, 37, 37, 0.08);
  }
}
